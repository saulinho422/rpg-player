<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha de Personagem - RPG Player</title>
    <link rel="stylesheet" href="styles/character-sheet.css">
</head>
<body>
    <div class="sheet-container">
        <!-- Header Controls -->
        <div class="sheet-controls">
            <div class="controls-left">
                <button id="menuBtn" class="control-btn menu-btn" title="Menu">‚ò∞ Menu</button>
                <button id="backBtn" class="control-btn">‚Üê Voltar</button>
            </div>
            <div class="controls-right">
                <button id="finishBtn" class="control-btn primary-btn" style="display: none;">‚úì Finalizar Personagem</button>
            </div>
        </div>

        <!-- Sidebar Menu -->
        <div id="sidebarMenu" class="sidebar-menu">
            <div class="sidebar-header">
                <h3>Menu</h3>
                <button class="close-sidebar">‚úï</button>
            </div>
            <div class="sidebar-content">
                <button class="sidebar-item" data-action="attribute-method">
                    <span class="sidebar-icon">üé≤</span>
                    <span class="sidebar-text">Valores de Atributo</span>
                </button>
            </div>
        </div>
        <div id="sidebarOverlay" class="sidebar-overlay"></div>

        <!-- Page 1: Main Character Sheet -->
        <div class="sheet-page page-1">
            <div class="sheet-header">
                <div class="character-name-box">
                    <input type="text" id="charName" class="char-name" placeholder="Nome do Personagem" readonly>
                    <label>Nome do Personagem</label>
                </div>
                
                <div class="header-info">
                    <div class="info-box clickable" id="classBox">
                        <div class="info-display" id="charClassDisplay">Selecionar Classe</div>
                        <label>Classe & N√≠vel</label>
                    </div>
                    <div class="info-box clickable" id="backgroundBox">
                        <div class="info-display" id="charBackgroundDisplay">Selecionar Antecedente</div>
                        <label>Antecedente</label>
                    </div>
                    <div class="info-box clickable" id="raceBox">
                        <div class="info-display" id="charRaceDisplay">Selecionar Ra√ßa</div>
                        <label>Ra√ßa</label>
                    </div>
                    <div class="info-box clickable" id="alignmentBox">
                        <div class="info-display" id="charAlignmentDisplay">Selecionar Tend√™ncia</div>
                        <label>Tend√™ncia</label>
                    </div>
                    <div class="info-box">
                        <input type="text" id="charXP" value="0" readonly>
                        <label>Pontos de Experi√™ncia</label>
                    </div>
                </div>
            </div>

            <div class="sheet-main">
                <!-- Left Column: Attributes, Inspiration, Proficiency, Skills, etc -->
                <div class="left-column">
                    <!-- Attributes -->
                    <div class="attributes-section">
                        <div class="attribute-box" data-attr="str">
                            <div class="attr-name">For√ßa</div>
                            <div class="attr-modifier" id="strMod">+0</div>
                            <div class="attr-value">
                                <input type="number" id="strValue" value="10" readonly>
                            </div>
                        </div>
                        <div class="attribute-box" data-attr="dex">
                            <div class="attr-name">Destreza</div>
                            <div class="attr-modifier" id="dexMod">+0</div>
                            <div class="attr-value">
                                <input type="number" id="dexValue" value="10" readonly>
                            </div>
                        </div>
                        <div class="attribute-box" data-attr="con">
                            <div class="attr-name">Constitui√ß√£o</div>
                            <div class="attr-modifier" id="conMod">+0</div>
                            <div class="attr-value">
                                <input type="number" id="conValue" value="10" readonly>
                            </div>
                        </div>
                        <div class="attribute-box" data-attr="int">
                            <div class="attr-name">Intelig√™ncia</div>
                            <div class="attr-modifier" id="intMod">+0</div>
                            <div class="attr-value">
                                <input type="number" id="intValue" value="10" readonly>
                            </div>
                        </div>
                        <div class="attribute-box" data-attr="wis">
                            <div class="attr-name">Sabedoria</div>
                            <div class="attr-modifier" id="wisMod">+0</div>
                            <div class="attr-value">
                                <input type="number" id="wisValue" value="10" readonly>
                            </div>
                        </div>
                        <div class="attribute-box" data-attr="cha">
                            <div class="attr-name">Carisma</div>
                            <div class="attr-modifier" id="chaMod">+0</div>
                            <div class="attr-value">
                                <input type="number" id="chaValue" value="10" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Inspiration & Proficiency -->
                    <div class="inspiration-proficiency">
                        <div class="inspiration-box">
                            <input type="checkbox" id="inspiration">
                            <label>Inspira√ß√£o</label>
                        </div>
                        <div class="proficiency-box">
                            <div class="prof-value" id="profBonus">+2</div>
                            <label>B√¥nus de Profici√™ncia</label>
                        </div>
                    </div>

                    <!-- Saving Throws -->
                    <div class="saves-section">
                        <h3>Testes de Resist√™ncia</h3>
                        <div class="save-item">
                            <input type="checkbox" id="saveStr">
                            <span class="save-mod" id="saveStrMod">+0</span>
                            <label>For√ßa</label>
                        </div>
                        <div class="save-item">
                            <input type="checkbox" id="saveDex">
                            <span class="save-mod" id="saveDexMod">+0</span>
                            <label>Destreza</label>
                        </div>
                        <div class="save-item">
                            <input type="checkbox" id="saveCon">
                            <span class="save-mod" id="saveConMod">+0</span>
                            <label>Constitui√ß√£o</label>
                        </div>
                        <div class="save-item">
                            <input type="checkbox" id="saveInt">
                            <span class="save-mod" id="saveIntMod">+0</span>
                            <label>Intelig√™ncia</label>
                        </div>
                        <div class="save-item">
                            <input type="checkbox" id="saveWis">
                            <span class="save-mod" id="saveWisMod">+0</span>
                            <label>Sabedoria</label>
                        </div>
                        <div class="save-item">
                            <input type="checkbox" id="saveCha">
                            <span class="save-mod" id="saveChaMod">+0</span>
                            <label>Carisma</label>
                        </div>
                    </div>

                    <!-- Skills -->
                    <div class="skills-section">
                        <h3>Per√≠cias</h3>
                        <div class="skill-item">
                            <input type="checkbox" id="skillAcrobatics">
                            <span class="skill-mod">+0</span>
                            <label>Acrobacia <span class="skill-ability">(Des)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillAnimalHandling">
                            <span class="skill-mod">+0</span>
                            <label>Lidar com Animais <span class="skill-ability">(Sab)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillArcana">
                            <span class="skill-mod">+0</span>
                            <label>Arcanismo <span class="skill-ability">(Int)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillAthletics">
                            <span class="skill-mod">+0</span>
                            <label>Atletismo <span class="skill-ability">(For)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillDeception">
                            <span class="skill-mod">+0</span>
                            <label>Engana√ß√£o <span class="skill-ability">(Car)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillHistory">
                            <span class="skill-mod">+0</span>
                            <label>Hist√≥ria <span class="skill-ability">(Int)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillInsight">
                            <span class="skill-mod">+0</span>
                            <label>Intui√ß√£o <span class="skill-ability">(Sab)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillIntimidation">
                            <span class="skill-mod">+0</span>
                            <label>Intimida√ß√£o <span class="skill-ability">(Car)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillInvestigation">
                            <span class="skill-mod">+0</span>
                            <label>Investiga√ß√£o <span class="skill-ability">(Int)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillMedicine">
                            <span class="skill-mod">+0</span>
                            <label>Medicina <span class="skill-ability">(Sab)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillNature">
                            <span class="skill-mod">+0</span>
                            <label>Natureza <span class="skill-ability">(Int)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillPerception">
                            <span class="skill-mod">+0</span>
                            <label>Percep√ß√£o <span class="skill-ability">(Sab)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillPerformance">
                            <span class="skill-mod">+0</span>
                            <label>Atua√ß√£o <span class="skill-ability">(Car)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillPersuasion">
                            <span class="skill-mod">+0</span>
                            <label>Persuas√£o <span class="skill-ability">(Car)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillReligion">
                            <span class="skill-mod">+0</span>
                            <label>Religi√£o <span class="skill-ability">(Int)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillSleightOfHand">
                            <span class="skill-mod">+0</span>
                            <label>Prestidigita√ß√£o <span class="skill-ability">(Des)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillStealth">
                            <span class="skill-mod">+0</span>
                            <label>Furtividade <span class="skill-ability">(Des)</span></label>
                        </div>
                        <div class="skill-item">
                            <input type="checkbox" id="skillSurvival">
                            <span class="skill-mod">+0</span>
                            <label>Sobreviv√™ncia <span class="skill-ability">(Sab)</span></label>
                        </div>
                    </div>

                    <!-- Passive Perception -->
                    <div class="passive-perception">
                        <div class="passive-value" id="passivePerception">10</div>
                        <label>Percep√ß√£o Passiva</label>
                    </div>

                    <!-- Languages & Proficiencies -->
                    <div class="languages-section">
                        <h3>Outras Profici√™ncias e Idiomas</h3>
                        <textarea id="languages" readonly></textarea>
                    </div>
                </div>

                <!-- Center Column: Combat Stats -->
                <div class="center-column">
                    <!-- Combat Stats -->
                    <div class="combat-stats">
                        <div class="ac-box">
                            <div class="stat-value" id="armorClass">10</div>
                            <label>Classe de Armadura</label>
                        </div>
                        <div class="initiative-box">
                            <div class="stat-value" id="initiative">+0</div>
                            <label>Iniciativa</label>
                        </div>
                        <div class="speed-box">
                            <div class="stat-value" id="speed">9m</div>
                            <label>Deslocamento</label>
                        </div>
                    </div>

                    <!-- HP -->
                    <div class="hp-section">
                        <div class="hp-max">
                            <label>Pontos de Vida M√°ximos</label>
                            <input type="number" id="hpMax" readonly>
                        </div>
                        <div class="hp-current">
                            <label>Pontos de Vida Atuais</label>
                            <input type="number" id="hpCurrent">
                        </div>
                        <div class="hp-temp">
                            <label>Pontos de Vida Tempor√°rios</label>
                            <input type="number" id="hpTemp" value="0">
                        </div>
                    </div>

                    <!-- Hit Dice -->
                    <div class="hit-dice-section">
                        <div class="hit-dice-row">
                            <div class="hit-dice-total">
                                <label>Total</label>
                                <input type="text" id="hitDiceTotal" readonly>
                            </div>
                            <div class="hit-dice-current">
                                <label>Dados de Vida</label>
                                <input type="text" id="hitDiceCurrent">
                            </div>
                        </div>
                    </div>

                    <!-- Death Saves -->
                    <div class="death-saves-section">
                        <h3>Testes contra a Morte</h3>
                        <div class="death-saves">
                            <div class="saves-row">
                                <label>Sucessos</label>
                                <div class="death-checkboxes">
                                    <input type="checkbox" class="death-success">
                                    <input type="checkbox" class="death-success">
                                    <input type="checkbox" class="death-success">
                                </div>
                            </div>
                            <div class="saves-row">
                                <label>Fracassos</label>
                                <div class="death-checkboxes">
                                    <input type="checkbox" class="death-failure">
                                    <input type="checkbox" class="death-failure">
                                    <input type="checkbox" class="death-failure">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Attacks -->
                    <div class="attacks-section">
                        <h3>Ataques e Conjura√ß√£o</h3>
                        <table class="attacks-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>B√¥nus de Ataque</th>
                                    <th>Dano/Tipo</th>
                                </tr>
                            </thead>
                            <tbody id="attacksTableBody">
                                <tr>
                                    <td><input type="text" placeholder="Arma"></td>
                                    <td><input type="text" placeholder="+0"></td>
                                    <td><input type="text" placeholder="1d6"></td>
                                </tr>
                                <tr>
                                    <td><input type="text" placeholder="Arma"></td>
                                    <td><input type="text" placeholder="+0"></td>
                                    <td><input type="text" placeholder="1d6"></td>
                                </tr>
                                <tr>
                                    <td><input type="text" placeholder="Arma"></td>
                                    <td><input type="text" placeholder="+0"></td>
                                    <td><input type="text" placeholder="1d6"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Equipment -->
                    <div class="equipment-section">
                        <h3>Equipamento</h3>
                        <textarea id="equipment" placeholder="Liste seu equipamento aqui..."></textarea>
                    </div>
                </div>

                <!-- Right Column: Personality, Features, etc -->
                <div class="right-column">
                    <!-- Character Image -->
                    <div class="character-image">
                        <img id="charImage" src="" alt="Personagem">
                    </div>

                    <!-- Personality Traits -->
                    <div class="personality-section">
                        <h3>Tra√ßos de Personalidade</h3>
                        <textarea id="personalityTraits" readonly></textarea>
                    </div>

                    <div class="personality-section">
                        <h3>Ideais</h3>
                        <textarea id="ideals" readonly></textarea>
                    </div>

                    <div class="personality-section">
                        <h3>V√≠nculos</h3>
                        <textarea id="bonds" readonly></textarea>
                    </div>

                    <div class="personality-section">
                        <h3>Defeitos</h3>
                        <textarea id="flaws" readonly></textarea>
                    </div>

                    <!-- Features & Traits -->
                    <div class="features-section">
                        <h3>Caracter√≠sticas e Tra√ßos</h3>
                        <textarea id="features" placeholder="Caracter√≠sticas raciais, de classe, talentos..."></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 2: Character Backstory -->
        <div class="sheet-page page-2">
            <h2 class="page-title">Detalhes do Personagem</h2>
            
            <div class="backstory-grid">
                <div class="backstory-section">
                    <h3>Idade</h3>
                    <input type="text" id="age" readonly>
                </div>
                <div class="backstory-section">
                    <h3>Altura</h3>
                    <input type="text" id="height" readonly>
                </div>
                <div class="backstory-section">
                    <h3>Peso</h3>
                    <input type="text" id="weight" readonly>
                </div>
                <div class="backstory-section">
                    <h3>Olhos</h3>
                    <input type="text" id="eyes" readonly>
                </div>
                <div class="backstory-section">
                    <h3>Pele</h3>
                    <input type="text" id="skin" readonly>
                </div>
                <div class="backstory-section">
                    <h3>Cabelo</h3>
                    <input type="text" id="hair" readonly>
                </div>
            </div>

            <div class="backstory-large">
                <h3>Hist√≥ria do Personagem</h3>
                <textarea id="backstory" placeholder="Conte a hist√≥ria do seu personagem..."></textarea>
            </div>

            <div class="backstory-large">
                <h3>Aliados e Organiza√ß√µes</h3>
                <textarea id="allies" placeholder="Descreva seus aliados e organiza√ß√µes..."></textarea>
            </div>

            <div class="backstory-large">
                <h3>Tesouro</h3>
                <textarea id="treasure" placeholder="Itens especiais, tesouros, propriedades..."></textarea>
            </div>
        </div>

        <!-- Page 3: Spells (for spellcasters) -->
        <div class="sheet-page page-3" id="spellsPage" style="display: none;">
            <h2 class="page-title">Magias</h2>
            
            <div class="spellcasting-ability">
                <div class="spell-stat">
                    <label>Atributo de Conjura√ß√£o</label>
                    <input type="text" id="spellcastingAbility" readonly>
                </div>
                <div class="spell-stat">
                    <label>CD de Resist√™ncia</label>
                    <input type="text" id="spellSaveDC" readonly>
                </div>
                <div class="spell-stat">
                    <label>B√¥nus de Ataque com Magia</label>
                    <input type="text" id="spellAttackBonus" readonly>
                </div>
            </div>

            <!-- Cantrips -->
            <div class="spell-level-section">
                <h3>Truques</h3>
                <div class="spell-list" id="cantrips"></div>
            </div>

            <!-- Spell Slots by Level -->
            <div id="spellLevels"></div>
        </div>
    </div>

    <!-- Modal: Race Selection -->
    <div id="raceModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>üè∞ Escolha sua Ra√ßa</h2>
            <div class="modal-grid" id="raceGrid"></div>
        </div>
    </div>

    <!-- Modal: Class Selection -->
    <div id="classModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>‚öîÔ∏è Escolha sua Classe</h2>
            <div class="modal-grid" id="classGrid"></div>
        </div>
    </div>

    <!-- Modal: Background Selection -->
    <div id="backgroundModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>üìú Escolha seu Antecedente</h2>
            <div class="modal-grid" id="backgroundGrid"></div>
        </div>
    </div>

    <!-- Modal: Alignment Selection -->
    <div id="alignmentModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>‚öñÔ∏è Escolha sua Tend√™ncia</h2>
            <div class="alignment-grid" id="alignmentGrid"></div>
        </div>
    </div>

    <script type="module" src="js/character-sheet.js"></script>
</body>
</html>
