<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha de Personagem - RPG Player</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Cinzel+Decorative:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/character-sheet.css?v=2.0">
    <link rel="stylesheet" href="styles/dice3d.css?v=3.0">
</head>
<body>
    <div class="sheet-container">
        <!-- Header Controls -->
        <div class="sheet-controls">
            <div class="controls-left">
                <button id="menuBtn" class="control-btn menu-btn" title="Menu">‚ò∞ Menu</button>
                <button id="backBtn" class="control-btn">‚Üê Voltar</button>
            </div>
            <div class="controls-right">
                <button id="finishBtn" class="control-btn primary-btn" style="display: none;">üíæ Salvar Personagem</button>
            </div>
        </div>

        <!-- Sidebar Menu -->
        <div id="sidebarMenu" class="sidebar-menu">
            <div class="sidebar-header">
                <h3>Menu</h3>
                <button class="close-sidebar">‚úï</button>
            </div>
            <div class="sidebar-content">
                <button class="sidebar-item" data-action="attribute-method">
                    <span class="sidebar-icon">üé≤</span>
                    <span class="sidebar-text">Valores de Atributo</span>
                </button>
            </div>
        </div>
        <div id="sidebarOverlay" class="sidebar-overlay"></div>

        <form class="charsheet">
            <header>
                <section class="charname">
                    <label for="charname">Nome do Personagem</label>
                    <input name="charname" id="charname">
                </section>
                <section class="misc">
                    <ul>
                        <li>
                            <label for="classlevel">Classe & N√≠vel</label>
                            <input name="classlevel" id="classlevel">
                        </li>
                        <li>
                            <label for="background">Antecedente</label>
                            <input name="background" id="background">
                        </li>
                        <li>
                            <label for="playername">Nome do Jogador</label>
                            <input name="playername" id="playername">
                        </li>
                        <li>
                            <label for="race">Ra√ßa</label>
                            <input name="race" id="race">
                        </li>
                        <li>
                            <label for="alignment">Tend√™ncia</label>
                            <input name="alignment" id="alignment">
                        </li>
                        <li>
                            <label for="experiencepoints">Pontos de Experi√™ncia</label>
                            <input name="experiencepoints" id="experiencepoints">
                        </li>
                    </ul>
                </section>
            </header>

            <main>
                <section>
                    <section class="attributes">
                        <div class="scores">
                                <ul>
                                    <li>
                                        <div class="score">
                                            <label for="Strengthscore">For√ßa</label>
                                            <input name="Strengthscore" id="Strengthscore" placeholder="10">
                                        </div>
                                        <div class="modifier">
                                            <input name="Strengthmod" id="Strengthmod" placeholder="+0">
                                        </div>
                                    </li>
                                    <li>
                                        <div class="score">
                                            <label for="Dexterityscore">Destreza</label>
                                            <input name="Dexterityscore" id="Dexterityscore" placeholder="10">
                                        </div>
                                        <div class="modifier">
                                            <input name="Dexteritymod" id="Dexteritymod" placeholder="+0">
                                        </div>
                                    </li>
                                    <li>
                                        <div class="score">
                                            <label for="Constitutionscore">Constitui√ß√£o</label>
                                            <input name="Constitutionscore" id="Constitutionscore" placeholder="10">
                                        </div>
                                        <div class="modifier">
                                            <input name="Constitutionmod" id="Constitutionmod" placeholder="+0">
                                        </div>
                                    </li>
                                    <li>
                                        <div class="score">
                                            <label for="Wisdomscore">Sabedoria</label>
                                            <input name="Wisdomscore" id="Wisdomscore" placeholder="10">
                                        </div>
                                        <div class="modifier">
                                            <input name="Wisdommod" id="Wisdommod" placeholder="+0">
                                        </div>
                                    </li>
                                    <li>
                                        <div class="score">
                                            <label for="Intelligencescore">Intelig√™ncia</label>
                                            <input name="Intelligencescore" id="Intelligencescore" placeholder="10">
                                        </div>
                                        <div class="modifier">
                                            <input name="Intelligencemod" id="Intelligencemod" placeholder="+0">
                                        </div>
                                    </li>
                                    <li>
                                        <div class="score">
                                            <label for="Charismascore">Carisma</label>
                                            <input name="Charismascore" id="Charismascore" placeholder="10">
                                        </div>
                                        <div class="modifier">
                                            <input name="Charismamod" id="Charismamod" placeholder="+0">
                                        </div>
                                    </li>
                                </ul>
                        </div>
                        <div class="attr-applications">
                            <div class="inspiration box">
                                <div class="label-container">
                                    <label for="inspiration">Inspira√ß√£o</label>
                                </div>
                                <input name="inspiration" id="inspiration" type="checkbox">
                            </div>

                            <div class="proficiencybonus box">
                                <div class="label-container">
                                    <label for="proficiencybonus">B√¥nus de Profici√™ncia</label>
                                </div>
                                <input name="proficiencybonus" id="proficiencybonus" placeholder="+2">
                            </div>

                            <div class="saves list-section box">
                                <ul>
                                    <li>
                                        <label for="Strength-save">For√ßa</label>
                                        <input name="Strength-save" id="Strength-save" type="text" placeholder="+0">
                                        <input name="Strength-save-prof" id="Strength-save-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Dexterity-save">Destreza</label>
                                        <input name="Dexterity-save" id="Dexterity-save" type="text" placeholder="+0">
                                        <input name="Dexterity-save-prof" id="Dexterity-save-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Constitution-save">Constitui√ß√£o</label>
                                        <input name="Constitution-save" id="Constitution-save" type="text" placeholder="+0">
                                        <input name="Constitution-save-prof" id="Constitution-save-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Wisdom-save">Sabedoria</label>
                                        <input name="Wisdom-save" id="Wisdom-save" type="text" placeholder="+0">
                                        <input name="Wisdom-save-prof" id="Wisdom-save-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Intelligence-save">Intelig√™ncia</label>
                                        <input name="Intelligence-save" id="Intelligence-save" type="text" placeholder="+0">
                                        <input name="Intelligence-save-prof" id="Intelligence-save-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Charisma-save">Carisma</label>
                                        <input name="Charisma-save" id="Charisma-save" type="text" placeholder="+0">
                                        <input name="Charisma-save-prof" id="Charisma-save-prof" type="checkbox">
                                    </li>
                                </ul>
                                <div class="label">Testes de Resist√™ncia</div>
                            </div>

                            <div class="skills list-section box">
                                <ul>
                                    <li>
                                        <label for="Acrobatics">Acrobacia <span class="skill">(Des)</span></label>
                                        <input name="Acrobatics" id="Acrobatics" type="text" placeholder="+0">
                                        <input name="Acrobatics-prof" id="Acrobatics-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Animal Handling">Lidar com Animais <span class="skill">(Sab)</span></label>
                                        <input name="Animal Handling" id="Animal_Handling" type="text" placeholder="+0">
                                        <input name="Animal Handling-prof" id="Animal_Handling-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Arcana">Arcana <span class="skill">(Int)</span></label>
                                        <input name="Arcana" id="Arcana" type="text" placeholder="+0">
                                        <input name="Arcana-prof" id="Arcana-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Athletics">Atletismo <span class="skill">(For)</span></label>
                                        <input name="Athletics" id="Athletics" type="text" placeholder="+0">
                                        <input name="Athletics-prof" id="Athletics-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Deception">Engana√ß√£o <span class="skill">(Car)</span></label>
                                        <input name="Deception" id="Deception" type="text" placeholder="+0">
                                        <input name="Deception-prof" id="Deception-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="History">Hist√≥ria <span class="skill">(Int)</span></label>
                                        <input name="History" id="History" type="text" placeholder="+0">
                                        <input name="History-prof" id="History-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Insight">Intui√ß√£o <span class="skill">(Sab)</span></label>
                                        <input name="Insight" id="Insight" type="text" placeholder="+0">
                                        <input name="Insight-prof" id="Insight-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Intimidation">Intimida√ß√£o <span class="skill">(Car)</span></label>
                                        <input name="Intimidation" id="Intimidation" type="text" placeholder="+0">
                                        <input name="Intimidation-prof" id="Intimidation-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Investigation">Investiga√ß√£o <span class="skill">(Int)</span></label>
                                        <input name="Investigation" id="Investigation" type="text" placeholder="+0">
                                        <input name="Investigation-prof" id="Investigation-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Medicine">Medicina <span class="skill">(Sab)</span></label>
                                        <input name="Medicine" id="Medicine" type="text" placeholder="+0">
                                        <input name="Medicine-prof" id="Medicine-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Nature">Natureza <span class="skill">(Int)</span></label>
                                        <input name="Nature" id="Nature" type="text" placeholder="+0">
                                        <input name="Nature-prof" id="Nature-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Perception">Percep√ß√£o <span class="skill">(Sab)</span></label>
                                        <input name="Perception" id="Perception" type="text" placeholder="+0">
                                        <input name="Perception-prof" id="Perception-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Performance">Atua√ß√£o <span class="skill">(Car)</span></label>
                                        <input name="Performance" id="Performance" type="text" placeholder="+0">
                                        <input name="Performance-prof" id="Performance-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Persuasion">Persuas√£o <span class="skill">(Car)</span></label>
                                        <input name="Persuasion" id="Persuasion" type="text" placeholder="+0">
                                        <input name="Persuasion-prof" id="Persuasion-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Religion">Religi√£o <span class="skill">(Int)</span></label>
                                        <input name="Religion" id="Religion" type="text" placeholder="+0">
                                        <input name="Religion-prof" id="Religion-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Sleight of Hand">Prestidigita√ß√£o <span class="skill">(Des)</span></label>
                                        <input name="Sleight of Hand" id="Sleight_of_Hand" type="text" placeholder="+0">
                                        <input name="Sleight of Hand-prof" id="Sleight_of_Hand-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Stealth">Furtividade <span class="skill">(Des)</span></label>
                                        <input name="Stealth" id="Stealth" type="text" placeholder="+0">
                                        <input name="Stealth-prof" id="Stealth-prof" type="checkbox">
                                    </li>
                                    <li>
                                        <label for="Survival">Sobreviv√™ncia <span class="skill">(Sab)</span></label>
                                        <input name="Survival" id="Survival" type="text" placeholder="+0">
                                        <input name="Survival-prof" id="Survival-prof" type="checkbox">
                                    </li>
                                </ul>
                                <div class="label">Per√≠cias</div>
                            </div>
                    </section>
                    <div class="passive-perception box">
                            <div class="label-container">
                                    <label for="passiveperception">Sabedoria Passiva (Percep√ß√£o)</label>
                            </div>
                            <input name="passiveperception" id="passiveperception" placeholder="10">
                        </div>

                        <div class="otherprofs box textblock">
                            <label for="otherprofs">Outras Profici√™ncias e Idiomas</label>
                            <textarea name="otherprofs" id="otherprofs"></textarea>
                        </div>
                </section>
                <section>
                    <section class="combat">
                        <div class="armorclass">
                            <div>
                                <label for="ac">Classe de Armadura</label>
                                <input name="ac" id="ac" placeholder="10">
                            </div>
                        </div>

                        <div class="initiative">
                            <div>
                                <label for="initiative">Iniciativa</label>
                                <input name="initiative" id="initiative" placeholder="+0">
                            </div>
                        </div>

                        <div class="speed">
                            <div>
                                <label for="speed">Deslocamento</label>
                                <input name="speed" id="speed" placeholder="9m">
                            </div>
                        </div>

                        <div class="hp">
                            <div class="regular">
                                <div class="max">
                                    <label for="maxhp">Pontos de Vida M√°ximos</label>
                                    <input name="maxhp" id="maxhp" placeholder="10">
                                </div>
                                <div class="current">
                                    <label for="currenthp">Pontos de Vida Atuais</label>
                                    <input name="currenthp" id="currenthp">
                                </div>
                            </div>
                            <div class="temporary">
                                <label for="temphp">Pontos de Vida Tempor√°rios</label>
                                <input name="temphp" id="temphp">
                            </div>
                        </div>

                        <div class="hitdice">
                            <div>
                                <div class="total">
                                    <label for="totalhd">Total</label>
                                    <input name="totalhd" id="totalhd" placeholder="2d10">
                                </div>
                                <div class="remaining">
                                    <label for="remaininghd">Hit Dice</label>
                                    <input name="remaininghd" id="remaininghd">
                                </div>
                            </div>
                        </div>

                        <div class="deathsaves">
                            <div>
                                <div class="label">
                                    <label>Death Saves</label>
                                </div>
                                <div class="marks">
                                    <div class="deathsuccesses">
                                        <label>Sucessos</label>
                                        <div class="bubbles">
                                            <input name="deathsuccess1" id="deathsuccess1" type="checkbox">
                                            <input name="deathsuccess2" id="deathsuccess2" type="checkbox">
                                            <input name="deathsuccess3" id="deathsuccess3" type="checkbox">
                                        </div>
                                    </div>
                                    <div class="deathfails">
                                        <label>Fracassos</label>
                                        <div class="bubbles">
                                            <input name="deathfail1" id="deathfail1" type="checkbox">
                                            <input name="deathfail2" id="deathfail2" type="checkbox">
                                            <input name="deathfail3" id="deathfail3" type="checkbox">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="attacksandspellcasting">
                        <div>
                            <label>Ataques & Magias</label>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>B√¥nus Atq</th>
                                        <th>Dano/Tipo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input name="atkname1" id="atkname1"></td>
                                        <td><input name="atkbonus1" id="atkbonus1"></td>
                                        <td><input name="atkdamage1" id="atkdamage1"></td>
                                    </tr>
                                    <tr>
                                        <td><input name="atkname2" id="atkname2"></td>
                                        <td><input name="atkbonus2" id="atkbonus2"></td>
                                        <td><input name="atkdamage2" id="atkdamage2"></td>
                                    </tr>
                                    <tr>
                                        <td><input name="atkname3" id="atkname3"></td>
                                        <td><input name="atkbonus3" id="atkbonus3"></td>
                                        <td><input name="atkdamage3" id="atkdamage3"></td>
                                    </tr>
                                </tbody>
                            </table>
                            <textarea></textarea>
                        </div>
                    </section>

                    <section class="equipment">
                        <div>
                            <label>Equipamento</label>
                            <div class="money">
                                <ul>
                                    <li>
                                        <label for="cp">pc</label>
                                        <input name="cp" id="cp">
                                    </li>
                                    <li>
                                        <label for="sp">pp</label>
                                        <input name="sp" id="sp">
                                    </li>
                                    <li>
                                        <label for="ep">pe</label>
                                        <input name="ep" id="ep">
                                    </li>
                                    <li>
                                        <label for="gp">po</label>
                                        <input name="gp" id="gp">
                                    </li>
                                    <li>
                                        <label for="pp">pl</label>
                                        <input name="pp" id="pp">
                                    </li>
                                </ul>
                            </div>
                            <textarea placeholder="Lista de equipamento aqui"></textarea>
                        </div>
                    </section>
                </section>
                <section>
                    <section class="flavor">
                        <div class="personality">
                            <label for="personality">Personalidade</label>
                            <textarea name="personality" id="personality"></textarea>
                        </div>

                        <div class="ideals">
                            <label for="ideals">Ideais</label>
                            <textarea name="ideals" id="ideals"></textarea>
                        </div>

                        <div class="bonds">
                            <label for="bonds">V√≠nculos</label>
                            <textarea name="bonds" id="bonds"></textarea>
                        </div>

                        <div class="flaws">
                            <label for="flaws">Defeitos</label>
                            <textarea name="flaws" id="flaws"></textarea>
                        </div>
                    </section>

                    <section class="features">
                        <div>
                            <label for="features">Caracter√≠sticas & Tra√ßos</label>
                            <textarea name="features" id="features"></textarea>
                        </div>
                    </section>
                </section>
            </main>
        </form>

        <!-- Modal: Race Selection -->
        <div id="raceModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>üè∞ Escolha sua Ra√ßa</h2>
                <div class="modal-grid" id="raceGrid"></div>
            </div>
        </div>

        <!-- Modal: Class Selection -->
        <div id="classModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>‚öîÔ∏è Escolha sua Classe</h2>
                <div class="modal-grid" id="classGrid"></div>
            </div>
        </div>

        <!-- Modal: Background Selection -->
        <div id="backgroundModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>üìú Escolha seu Antecedente</h2>
                <div class="modal-grid" id="backgroundGrid"></div>
            </div>
        </div>

        <!-- Modal: Alignment Selection -->
        <div id="alignmentModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>‚öñÔ∏è Escolha sua Tend√™ncia</h2>
                <div class="alignment-grid" id="alignmentGrid"></div>
            </div>
        </div>

        <!-- Modal: Character Creation Wizard -->
        <div id="characterCreationModal" class="creation-modal">
            <div class="creation-modal-content">
                <div class="creation-header">
                    <h2>üé≠ Criar Novo Personagem</h2>
                    <button class="close-creation" title="Fechar">‚úï</button>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-step active">
                        <div class="step-number">1</div>
                        <span>Nome</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">2</div>
                        <span>Ra√ßa</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">3</div>
                        <span>Classe</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">4</div>
                        <span>Per√≠cias</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">5</div>
                        <span>Atributos</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">6</div>
                        <span>Detalhes</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">7</div>
                        <span>Equipamento</span>
                    </div>
                    <div class="progress-step">
                        <div class="step-number">8</div>
                        <span>Finalizar</span>
                    </div>
                    <div class="progress-fill"></div>
                </div>
                
                <div id="creationContent" class="creation-body"></div>
                
                <div class="creation-footer">
                    <button id="prevBtn" class="wizard-btn secondary-btn hidden">‚Üê Anterior</button>
                    <button id="nextBtn" class="wizard-btn primary-btn">Pr√≥ximo ‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        // Importar e expor Dice3DRoller globalmente
        import { Dice3DRoller } from './js/dice3d.js?v=3.0';
        window.Dice3DRoller = Dice3DRoller;
        console.log('‚úÖ Dice3DRoller importado e exposto globalmente');
    </script>
    <script type="module" src="js/character-sheet.js?v=3.0"></script>
</body>
</html>