<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Player - Dashboard</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="img/site.webmanifest">
    <link rel="shortcut icon" href="img/favicon.ico">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Cinzel+Decorative:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo">
                    <img src="img/logo_vetorizada.png" alt="RPG Player" style="height: 50px; margin-right: 10px; vertical-align: middle;">
                    <h1 style="display: inline-block; vertical-align: middle;">RPG Player</h1>
                </div>
                <div class="user-info">
                    <div class="user-avatar">
                        <img id="userAvatar" src="https://via.placeholder.com/40" alt="Avatar">
                    </div>
                    <div class="user-details">
                        <span id="userName">Jogador</span>
                    </div>
                    <button id="logoutBtn" class="logout-btn">Sair</button>
                </div>
            </div>
        </header>

        <div class="dashboard-main">
            <!-- Sidebar (Desktop) -->
            <nav class="sidebar">
                <div class="nav-menu">
                    <button class="nav-item active" data-tab="inicio">
                        <span class="nav-icon">
                            <img src="img/logo_inicio.png" alt="In√≠cio" style="width: 24px; height: 24px;">
                        </span>
                        <span class="nav-text">In√≠cio</span>
                    </button>
                    <button class="nav-item" data-tab="personagens">
                        <span class="nav-icon">
                            <img src="img/logo_personagem.png" alt="Personagens" style="width: 24px; height: 24px;">
                        </span>
                        <span class="nav-text">Personagens</span>
                    </button>
                    <button class="nav-item" data-tab="mesas">
                        <span class="nav-icon">
                            <img src="img/logo_mesas.png" alt="Mesas" style="width: 24px; height: 24px;">
                        </span>
                        <span class="nav-text">Mesas</span>
                    </button>
                </div>
            </nav>

            <!-- Content Area -->
            <main class="dashboard-content">
                <!-- Tab: In√≠cio -->
                <div class="tab-content active" id="inicio-tab">
                    <div class="content-header">
                        <h2>Bem-vindo de volta!</h2>
                        <p>Sua jornada √©pica continua...</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <img src="img/logo_personagem.png" alt="Personagens" style="width: 40px; height: 40px;">
                            </div>
                            <div class="stat-info">
                                <div class="stat-number">3</div>
                                <div class="stat-label">Personagens</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <img src="img/logo_mesas.png" alt="Mesas Ativas" style="width: 40px; height: 40px;">
                            </div>
                            <div class="stat-info">
                                <div class="stat-number">2</div>
                                <div class="stat-label">Mesas Ativas</div>
                            </div>
                        </div>
                    </div>

                    <div class="recent-activity">
                        <h3>Atividade Recente</h3>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <img src="img/logo_vetorizada.png" alt="" style="width: 30px; height: 30px;">
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">Batalha √âpica Conclu√≠da</div>
                                    <div class="activity-time">H√° 2 horas</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">üë§</div>
                                <div class="activity-content">
                                    <div class="activity-title">Novo personagem criado: Elara</div>
                                    <div class="activity-time">Ontem</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">üé≤</div>
                                <div class="activity-content">
                                    <div class="activity-title">Entrou na mesa "Drag√µes Antigos"</div>
                                    <div class="activity-time">2 dias atr√°s</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Personagens -->
                <div class="tab-content" id="personagens-tab">
                    <div class="content-header">
                        <h2>Meus Personagens</h2>
                        <button class="add-btn disabled-btn" id="createCharacterBtn" style="background: #95a5a6; cursor: not-allowed;">+ Criar Personagem</button>
                    </div>

                    <div class="characters-grid">
                        <div class="character-card">
                            <div class="character-avatar">
                                <img src="https://via.placeholder.com/400x200" alt="Kael Ventol√¢mina">
                            </div>
                            <div class="character-overlay">
                                <div class="character-level">N√≠vel 5</div>
                                <div class="character-info">
                                    <h3>Kael Ventol√¢mina</h3>
                                    <div class="character-details">
                                        <div class="character-class">Ranger</div>
                                        <div class="character-race">√âlfico</div>
                                    </div>
                                </div>
                                <div class="character-actions">
                                    <button class="btn-secondary" onclick="window.location.href='character-sheet.html'">Editar</button>
                                    <button class="btn-primary" disabled>Jogar</button>
                                </div>
                            </div>
                        </div>

                        <div class="character-card">
                            <div class="character-avatar">
                                <img src="https://via.placeholder.com/400x200" alt="Lyra Forjaferro">
                            </div>
                            <div class="character-overlay">
                                <div class="character-level">N√≠vel 3</div>
                                <div class="character-info">
                                    <h3>Lyra Forjaferro</h3>
                                    <div class="character-details">
                                        <div class="character-class">Guerreira</div>
                                        <div class="character-race">An√£</div>
                                    </div>
                                </div>
                                <div class="character-actions">
                                    <button class="btn-secondary" onclick="window.location.href='character-sheet.html'">Editar</button>
                                    <button class="btn-primary" disabled>Jogar</button>
                                </div>
                            </div>
                        </div>

                        <div class="character-card">
                            <div class="character-avatar">
                                <img src="https://via.placeholder.com/400x200" alt="Zephyr Luaverde">
                            </div>
                            <div class="character-overlay">
                                <div class="character-level">N√≠vel 7</div>
                                <div class="character-info">
                                    <h3>Zephyr Luaverde</h3>
                                    <div class="character-details">
                                        <div class="character-class">Mago</div>
                                        <div class="character-race">Humano</div>
                                    </div>
                                </div>
                                <div class="character-actions">
                                    <button class="btn-secondary" onclick="window.location.href='character-sheet.html'">Editar</button>
                                    <button class="btn-primary" disabled>Jogar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Mesas -->
                <div class="tab-content" id="mesas-tab">
                    <div class="content-header">
                        <h2>Minhas Mesas</h2>
                        <button class="add-btn">+ Criar Mesa</button>
                    </div>

                    <div class="tables-grid">
                        <div class="table-card active">
                            <div class="table-header">
                                <div class="table-status">üü¢ Ativa</div>
                                <div class="table-players">4/6 jogadores</div>
                            </div>
                            <div class="table-info">
                                <h3>A Lenda dos Drag√µes Antigos</h3>
                                <div class="table-system">D&D 5e</div>
                                <div class="table-description">
                                    Uma √©pica jornada atrav√©s das terras m√≠sticas em busca dos √∫ltimos drag√µes ancestrais...
                                </div>
                            </div>
                            <div class="table-actions">
                                <button class="btn-secondary">Configurar</button>
                                <button class="btn-primary">Entrar na Mesa</button>
                            </div>
                        </div>

                        <div class="table-card">
                            <div class="table-header">
                                <div class="table-status">üü° Aguardando</div>
                                <div class="table-players">2/4 jogadores</div>
                            </div>
                            <div class="table-info">
                                <h3>Mist√©rios de Ravenloft</h3>
                                <div class="table-system">D&D 5e</div>
                                <div class="table-description">
                                    Horror g√≥tico e mist√©rios sombrios aguardam os aventureiros corajosos...
                                </div>
                            </div>
                            <div class="table-actions">
                                <button class="btn-secondary">Configurar</button>
                                <button class="btn-primary">Entrar na Mesa</button>
                            </div>
                        </div>

                        <div class="table-card completed">
                            <div class="table-header">
                                <div class="table-status">‚úÖ Conclu√≠da</div>
                                <div class="table-players">5/5 jogadores</div>
                            </div>
                            <div class="table-info">
                                <h3>A Queda do Rei Lich</h3>
                                <div class="table-system">D&D 5e</div>
                                <div class="table-description">
                                    Uma campanha √©pica que resultou na derrota do tem√≠vel Rei Lich...
                                </div>
                            </div>
                            <div class="table-actions">
                                <button class="btn-secondary">Ver Hist√≥rico</button>
                                <button class="btn-secondary">Exportar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Bottom Navigation (Mobile) -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-tab="inicio">
                <span class="nav-icon">üè†</span>
                <span class="nav-text">In√≠cio</span>
            </button>
            <button class="nav-item" data-tab="personagens">
                <span class="nav-icon">üë•</span>
                <span class="nav-text">Personagens</span>
            </button>
            <button class="nav-item" data-tab="mesas">
                <span class="nav-icon">üé≤</span>
                <span class="nav-text">Mesas</span>
            </button>
        </nav>
    </div>

    <script type="module" src="js/auth-supabase-only.js"></script>
    <script type="module" src="js/database.js"></script>
    <script type="module" src="js/dashboard-real.js"></script>
    <script type="module" src="js/dashboard.js"></script>
    
    <script>
        // Adiciona evento ao bot√£o de criar personagem
        document.addEventListener('DOMContentLoaded', function() {
            const createBtn = document.getElementById('createCharacterBtn');
            if (createBtn) {
                createBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    showNotification('üöß A cria√ß√£o de personagem est√° em desenvolvimento', 'info');
                });
            }
        });
        
        // Fun√ß√£o para mostrar notifica√ß√µes
        function showNotification(message, type = 'info') {
            // Remove notifica√ß√£o anterior se existir
            const existingNotification = document.querySelector('.notification-toast');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Cria nova notifica√ß√£o
            const notification = document.createElement('div');
            notification.className = `notification-toast ${type}`;
            notification.textContent = message;
            
            // Estilos inline
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                background: linear-gradient(135deg, #3498db, #2980b9);
                color: white;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                font-family: 'Cinzel', serif;
                font-size: 14px;
                animation: slideInRight 0.3s ease-out;
                max-width: 300px;
            `;
            
            document.body.appendChild(notification);
            
            // Remove ap√≥s 3 segundos
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // Adiciona anima√ß√µes CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(400px);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(400px);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>